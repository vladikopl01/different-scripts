#include <iostream>
#include <Windows.h>
#include <conio.h>
#include <cstdlib>

using namespace std;

//COLOURS
#define BLACK			0
#define DARKRED			4
#define BROWN			6
#define PINK			12
#define MAGENTA			13
#define YELLOW			14
#define WHITE			15

//Global data
static HWND hwnd;
HANDLE handle;
RECT r;

void drawPixelArt(HDC, int, int);
void gotoxy(int, int);

int main() {
	hwnd = ::GetActiveWindow();
	handle = GetStdHandle(STD_OUTPUT_HANDLE);

	RECT r;
	HWND console = GetConsoleWindow();
	HDC hdc = GetDC(console);
	SetConsoleTitle(TEXT("Pixel Art"));
	GetWindowRect(console, &r);
	MoveWindow(console, r.left, r.top, 860, 700, TRUE);

	system("color F0");
	drawPixelArt(hdc, 2, 1);

	ReleaseDC(NULL, hdc);
	getchar();
}

void drawPixelArt(HDC hdc, int startX, int startY) {
	const int n = 38;
	const int m = 41;
	int image[n][m] = {
		{ 0, 0, 0, 0,15,15,15,15,15,15,	15,15,15,15,15,15,15,15,15,15,	15,15,15,15,15,15,15,15,15,15,	15,15,15,15,15,15,15, 0, 0, 0, 0},
		{ 0, 0, 0, 0, 0, 0, 0,15,15,15,	15,15,15,15,15,15,15,15,15,15,	15,15,15,15,15,15,15,15,15,15,	15,15,15,15, 0, 0, 0, 0, 0, 0, 0},
		{ 0, 0, 0, 0, 0, 0, 0, 0, 0,15,	15,15,15,15,15,15,15,15,15,15,	15,15,15,15,15,15,15,15,15,15,	15,15, 0, 0, 0, 0, 0, 0, 0, 0, 0},
		{ 0, 0, 0, 0, 0, 0,14,14,14, 0,	15,15,15,15,15,15,15,15,15,15,	15,15,15,15,15,15,15,15,15,15,	15, 0,14,14,14, 0, 0, 0, 0, 0, 0},
		{ 0, 0, 0, 0, 0, 0,14,14,14,14,	0 ,15,15,15,15,15,15,15,15,15,	15,15,15,15,15,15,15,15,15,15,	 0,14,14,14,14, 0, 0, 0, 0, 0, 0},
		{ 0, 0, 0, 0, 0,14,14,14,14,14,	14, 0,15,15,15,15,15,15,15,15,	15,15,15,15,15,15,15,15,15, 0,	14,14,14,14,14,14, 0, 0, 0, 0, 0},
		{15, 0, 0, 0, 0,14,14,14,14,14,	14,14, 0,15,15, 0, 0, 0, 0, 0,	 0, 0, 0, 0, 0, 0,15,15, 0,14,	14,14,14,14,14,14, 0, 0, 0, 0,15},
		{15, 0, 0, 0, 0,14,14,14,14,14,	14,14,14, 0, 0,14,14,14,14,14,	14,14,14,14,14,14, 0, 0,14,14,	14,14,14,14,14,14, 0, 0, 0, 0,15},
		{15,15, 0, 0, 0,14,14,14,14,14,	14, 0, 0,14,14,14,14,14,14,14,	14,14,14,14,14,14,14,14, 0, 0,	14,14,14,14,14,14, 0, 0, 0,15,15},
		{15,15, 0, 0, 0, 6,14,14,14,14,	14,14,14,14,14,14,14,14,14,14,	14,14,14,14,14,14,14,14,14,14,	14,14,14,14,14, 6, 0, 0, 0,15,15},

		{15,15,15, 0, 0, 6, 6,14,14,14,	14,14,14,14,14,14,14,14,14,14,	14,14,14,14,14,14,14,14,14,14,	14,14,14,14, 6, 6, 0, 0,15,15,15},
		{15,15,15,15, 0, 6, 6, 6, 0,14,	14,14,14,14,14,14,14,14,14,14,	14,14,14,14,14,14,14,14,14,14,	14,14, 0, 6, 6, 6, 0,15,15,15,15},
		{15,15,15,15,15, 0, 0, 0,14,14,	14,14,14,14,14,14,14,14,14,14,	14,14,14,14,14,14,14,14,14,14,	14,14,14, 0, 0, 0,15,15,15,15,15},
		{15,15,15,15,15,15, 0,14,14,14,	14,14,14,14,14,14,14,14,14,14,	14,14,14,14,14,14,14,14,14,14,	14,14,14,14, 0,15,15,15,15,15,15},
		{15,15,15,15,15,15, 0,14,14,14,	14,14,14,14,14,14,14,14,14,14,	14,14,14,14,14,14,14,14,14,14,	14,14,14,14, 0,15,15,15,15,15,15},
		{15,15,15,15,15, 0,14,14,14,14,	14,14,14,14,14,14,14,14,14,14,	14,14,14,14,14,14,14,14,14,14,	14,14,14,14,14, 0,15,15,15,15,15},
		{15,15,15,15,15, 0,14,14,14,14,	14,14,14,14,14,14,14,14,14,14,	14,14,14,14,14,14,14,14,14,14,	14,14,14,14,14, 0,15,15,15,15,15},
		{15,15,15,15,15, 0,14,14,14,14,	 0, 0, 0, 0,14,14,14,14,14,14,	14,14,14,14,14,14,14, 0, 0, 0,	 0,14,14,14,14, 0,15,15,15,15,15},
		{15,15,15,15,15, 0,14,14,14, 0,	 0, 0,15, 0, 0,14,14,14,14,14,	14,14,14,14,14,14, 0, 0,15, 0,	 0, 0,14,14,14, 0,15,15,15,15,15},
		{15,15,15,15,15, 0,14,14, 0, 0,	 0,15,15,15, 0,14,14,14,14,14,	14,14,14,14,14,14, 0,15,15,15,	 0, 0, 0,14,14, 0,15,15,15,15,15},

		{15,15,15,15,15, 0,14,14, 0, 0,	 0, 0,15,15, 0,14,14,14,14,14,	14,14,14,14,14,14, 0,15,15, 0,	 0, 0, 0,14,14, 0,15,15,15,15,15},
		{15,15,15,15,15, 0,14,14, 0, 0,	 0, 0, 0, 0, 0,14,14,14,14,14,	14,14,14,14,14,14, 0, 0, 0, 0,	 0, 0, 0,14,14, 0,15,15,15,15,15},
		{15,15,15,15,15, 0,14,14, 0, 0,	 0, 0, 0, 0, 0,14,14,14,14,14,	14,14,14,14,14,14, 0, 0, 0, 0,	 0, 0, 0,14,14, 0,15,15,15,15,15},
		{15,15,15,15,15, 0,14,14,14, 0,	 0, 0, 0, 0,14,14,14,14,14, 0,	 0, 0,14,14,14,14,14, 0, 0, 0,	 0, 0,14,14,14, 0,15,15,15,15,15},
		{15,15,15,15, 0,14,14,14,14,14,	14,14,14,14,14,14,14,14,14,14,	 0,14,14,14,14,14,14,14,14,14,	14,14,14,14,14,14, 0,15,15,15,15},
		{15,15,15,15, 0,14, 0, 0, 0, 0,	 0,14,14,14,14,14,14,14,14,14,	14,14,14,14,14,14,14,14,14,14,	 0, 0, 0, 0, 0,14, 0,15,15,15,15},
		{15,15,15,15, 0, 0, 4, 4, 4, 4,	 4, 0,14,14,14, 0,14,14,14,14,	 0,14,14,14,14, 0,14,14,14, 0,	 4, 4, 4, 4, 4, 0, 0,15,15,15,15},
		{15,15,15,15, 0, 4, 4, 4, 4, 4,	 4, 4, 0,14,14,14, 0, 0, 0, 0,	13, 0, 0, 0, 0,14,14,14, 0, 4,	 4, 4, 4, 4, 4, 4, 0,15,15,15,15},
		{15,15,15,15, 0, 4, 4, 4, 4, 4,	 4, 4, 0,14,14,14,14, 0,13,13,	13,13,13, 0,14,14,14,14, 0, 4,	 4, 4, 4, 4, 4, 4, 0,15,15,15,15},
		{15,15,15,15, 0, 4, 4, 4, 4, 4,	 4, 4, 0,14,14,14,14, 0,13,12,	12,12,13, 0,14,14,14,14, 0, 4,	 4, 4, 4, 4, 4, 4, 0,15,15,15,15},

		{15,15,15,15, 0, 4, 4, 4, 4, 4,	 4, 0,14,14,14,14,14, 0,12,12,	12,12,12, 0,14,14,14,14,14, 0,	 4, 4, 4, 4, 4, 4, 0,15,15,15,15},
		{15,15,15,15,15, 0, 4, 4, 4, 4,	 4, 0,14,14,14,14,14, 0,12,12,	12,12,12, 0,14,14,14,14,14, 0,	 4, 4, 4, 4, 4, 0,15,15,15,15,15},
		{15,15,15,15,15,15, 0, 0, 0, 0,	 0,14,14,14,14,14,14,14, 0,12,	12,12, 0,14,14,14,14,14,14,14,	 0, 0, 0, 0, 0,15,15,15,15,15,15},
		{15,15,15,15,15,15,15, 0, 6, 6,	 6,14,14,14,14,14,14,14,14, 0,	12, 0,14,14,14,14,14,14,14,14,	 6, 6, 6, 0,15,15,15,15,15,15,15},
		{15,15,15,15,15,15,15,15, 0, 0,	 6, 6, 6,14,14,14,14,14,14,14,	 0,14,14,14,14,14,14,14, 6, 6,	 6, 0, 0,15,15,15,15,15,15,15,15},
		{15,15,15,15,15,15,15,15,15,15,	 0, 0, 6, 6, 6, 6, 6,14,14,14,	14,14,14,14, 6, 6, 6, 6, 6, 0,	 0,15,15,15,15,15,15,15,15,15,15},
		{15,15,15,15,15,15,15,15,15,15,	15,15, 0, 0, 0, 6, 6, 6, 6, 6,	 6, 6, 6, 6, 6, 6, 0, 0, 0,15,	15,15,15,15,15,15,15,15,15,15,15},
		{15,15,15,15,15,15,15,15,15,15,	15,15,15,15,15, 0, 0, 0, 0, 0,	 0, 0, 0, 0, 0, 0,15,15,15,15,	15,15,15,15,15,15,15,15,15,15,15},
	};

	gotoxy(startX, startY);

	for (int i = 0; i < n; i++) {
		for (int j = 0; j < m; j++) {
			if (image[i][j] == 0) {
				SetConsoleTextAttribute(handle, ((BLACK & 0x0F) << 4));
				cout << " ";
				cout << " ";
			}
			if (image[i][j] == 4) {
				SetConsoleTextAttribute(handle, ((DARKRED & 0x0F) << 4));
				cout << " ";
				cout << " ";
			}
			if (image[i][j] == 13) {
				SetConsoleTextAttribute(handle, ((MAGENTA & 0x0F) << 4));
				cout << " ";
				cout << " ";
			}
			if (image[i][j] == 6) {
				SetConsoleTextAttribute(handle, ((BROWN & 0x0F) << 4));
				cout << " ";
				cout << " ";
			}
			if (image[i][j] == 12) {
				SetConsoleTextAttribute(handle, ((PINK & 0x0F) << 4));
				cout << " ";
				cout << " ";
			}
			if (image[i][j] == 14) {
				SetConsoleTextAttribute(handle, ((YELLOW & 0x0F) << 4));
				cout << " ";
				cout << " ";
			}
			if (image[i][j] == 15) {
				SetConsoleTextAttribute(handle, ((WHITE & 0x0F) << 4));
				cout << " ";
				cout << " ";
			}
		}
		gotoxy(startX, startY + i+1);
	}
}

void gotoxy(int x, int y) {
	COORD p = { x, y };
	SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE), p);
}